<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

	<bean id="productionParameters" class="com.sicpa.standard.sasscl.model.ProductionParameters" />

	<bean id="mainFrameController" class="com.sicpa.tt080.scl.view.TT080MainFrameController">
		<property name="productionParameters" ref="productionParameters" />
		<property name="lineId" value="${lineId}" />
		<property name="messageCodeMapper" ref="messagesMapping" />
		<property name="securedPanels">
			<list>
				<ref bean="plcMonitoringView" />
				<ref bean="advancedControlView" />
				<ref bean="plcVariablesPanel" />
				<ref bean="productionStatisticsPanel" />
				<ref bean="systemEventPanel" />
				<ref bean="MBeanViewer" />
				<ref bean="miscPanel" />
				<ref bean="beanCallPanel" />
				<ref bean="encodersInfoView" />
				<ref bean="reportScreen" />
			</list>
		</property>
	</bean>

	<bean id="batchIdSkuView" class="com.sicpa.tt080.scl.view.sku.batchId.BatchIdSkuView">
		<property name="controller" ref="batchIdSkuViewController" />
		<property name="model" value="#{batchIdSkuViewController.model}" />
	</bean>

	<bean id="batchIdSkuViewController" class="com.sicpa.tt080.scl.view.sku.batchId.BatchIdSkuViewController">
		<property name="view" ref="batchIdSkuView" />
		<property name="viewController" ref="mainFrameController" />
		<property name="screensFlow" ref="screensFlow" />
		<property name="flowControl" ref="flowControl" />
	</bean>

	<bean id="screensFlow" class="com.sicpa.tt080.scl.view.flow.TT080ScreensFlow" init-method="buildScreensFlow">
		<property name="initialScreen" ref="mainPanelGetter" />
		<property name="selectionScreen" ref="selectProductionParametersViewController" />
		<property name="batchIdScreen" ref="batchIdSkuViewController" />
		<property name="mainScreen" ref="mainPanelGetter" />
		<property name="exitScreen" ref="productionSendingViewController" />
	</bean>

	<!-- SELECT PARAMETER -->
	<bean id="selectProductionParametersViewController" class="com.sicpa.tt080.scl.view.selection.select.productionparameters.TT080SelectProductionParametersViewController">
		<property name="handPickingView" ref="selectProductionParametersHandPickingView" />
		<property name="barcodeView" ref="selectProductionParametersBarcodeView" />
		<property name="viewController" ref="mainFrameController" />
		<property name="skuListProvider" ref="skuListProvider" />
		<property name="useBarcodeReader" value="${useBarcodeReader}" />
		<property name="screensFlow" ref="screensFlow" />
		<property name="mainFrameController" ref="mainFrameController" />
		<property name="flowControl" ref="flowControl" />
	</bean>

	<!-- SELECTION DISPLAY -->
	<bean id="selectionDisplayView" class="com.sicpa.tt080.scl.view.selection.display.TT080SelectionDisplayView">
		<property name="controller" ref="selectionDisplayViewController" />
		<property name="model" value="#{selectionDisplayViewController.model}" />
	</bean>

</beans>