<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:util="http://www.springframework.org/schema/util"
	xmlns:p="http://www.springframework.org/schema/p"
	xmlns:c="http://www.springframework.org/schema/c"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
		http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd
		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd">
	
	<bean id="PlcVariableInt32" 	class="com.sicpa.standard.plc.value.PlcVariable" factory-method="createInt32Var" abstract="true"/>
	<bean id="PlcVariableBool" 		class="com.sicpa.standard.plc.value.PlcVariable" factory-method="createBooleanVar" abstract="true"/>
	<bean id="PlcVariableString" 	class="com.sicpa.standard.plc.value.PlcVariable" factory-method="createStringVar" abstract="true"/>

	<bean id="plcSecureVariableValues" class="com.sicpa.standard.client.common.utils.ConfigUtils" factory-method="load">
		<constructor-arg value="config/plc/plcSecureParams.xml" />
	</bean>

<!-- ================================ REQUESTS ================================ -->

	<util:map id="plcSecureRequestAction">
		<entry key="OPEN_ELECTRICAL_CABINET"		value=".ExtGbl_stReq.bOpenElectricalCabinet"/>
		<entry key="OPEN_PRINTER_CABINET"			value=".ExtGbl_stReq.bOpenPrinterCabinet"/>
		<entry key="OPEN_DEPORTED_PRINTER_CABINET"	value=".ExtGbl_stReq.bOpenDeportedPrinterCabinet"/>
		<entry key="REBOOT_SECURE_SYSTEM"			value=".ExtGbl_stReq.bRebootSecureSystem"/>
		<entry key="LSM_TAKE_PICTURE"				value=".ExtGbl_stReq.bLSMTakePicture"/>
		<entry key="SECURITY_ALARM"					value=".ExtGbl_stReq.bSecurityAlarm"/>
		<entry key="RELOAD_USER_DATA_FILE"			value=".ExtGbl_stReq.bReloadUserDataFile"/>
		<entry key="SET_USER_ID"					value=".ExtGbl_stReq.nUserOnGUIID"/>
		<entry key="AUTHENTICATE_USER"				value=".ExtGbl_stReq.bUserOnGUIAuthentication"/>
	</util:map>
	
	<bean id="reqOpenElectricalCabinet"			c:_0="#{plcSecureRequestAction['OPEN_ELECTRICAL_CABINET']}"			parent="PlcVariableBool"/>
	<bean id="reqOpenPrinterCabinet"			c:_0="#{plcSecureRequestAction['OPEN_PRINTER_CABINET']}"			parent="PlcVariableBool"/>
	<bean id="reqOpenDeportedPrinterCabinet"	c:_0="#{plcSecureRequestAction['OPEN_DEPORTED_PRINTER_CABINET']}"	parent="PlcVariableBool"/>
	<bean id="reqRebootSecureSystem"			c:_0="#{plcSecureRequestAction['REBOOT_SECURE_SYSTEM']}"			parent="PlcVariableBool"/>
	<bean id="reqLsmTakePicture"				c:_0="#{plcSecureRequestAction['LSM_TAKE_PICTURE']}"				parent="PlcVariableBool"/>
	<bean id="reqSecurityAlarm"					c:_0="#{plcSecureRequestAction['SECURITY_ALARM']}"					parent="PlcVariableBool"/>

<!-- ================================ LIFECHECK ================================ -->
	
	<bean id="secureModuleLifecheckVariable"	c:_0=".ExtGbl_stReq.bLifecheck"	parent="PlcVariableBool"  />

<!-- ================================ NOTIFICATIONS ================================ -->
	
	<util:list id="plcSecureNotifications">
		<bean c:_0="#{securePlcVarMap['NTF_USER_ID_AUTHENTICATED']}"				parent="PlcVariableInt32" 	/>
<!-- 		<bean c:_0="#{securePlcVarMap['NTF_USER_PROFILE_AUTHENTICATED']}"			parent="PlcVariableInt32" 	/> -->
		<bean c:_0="#{securePlcVarMap['NTF_USER_PRINTER_ACCESS']}"	                parent="PlcVariableInt32" 	/>                                       
		<bean c:_0="#{securePlcVarMap['NTF_USER_JAVA_ACCESS']}"   	                parent="PlcVariableInt32" 	/>
		<bean c:_0="#{securePlcVarMap['NTF_USER_AUTHENTICATION']}"					parent="PlcVariableBool" 	/>
		<bean c:_0="#{securePlcVarMap['NTF_USER_DATABASE_VERSION']}"	c:_1="10" 	parent="PlcVariableString" 	/>
	</util:list>
	
<!-- ================================ PARAMETERS ================================ -->

	<bean id="lSMIntervalTimeForEvidences" c:_0=".ExtGbl_stParam.nLSMIntervalTimeForEvidences" parent="PlcVariableInt32" />
	<bean id="activeIJC"                   c:_0=".ExtGbl_stParam.bActiveIJC"                   parent="PlcVariableBool"  />
	<bean id="activeIJC2"                  c:_0=".ExtGbl_stParam.bActiveIJCD2"                 parent="PlcVariableBool"  />
	<bean id="activeIJC3"                  c:_0=".ExtGbl_stParam.bActiveIJCD3"                 parent="PlcVariableBool"  />
	<bean id="timeUnlockEC"                c:_0=".ExtGbl_stParam.nTimeUnlockEC"                parent="PlcVariableInt32"  />
	<bean id="timeUnlockIJC"               c:_0=".ExtGbl_stParam.nTimeUnlockIJC"               parent="PlcVariableInt32"  />
	<bean id="timeUnlockIJCD2"             c:_0=".ExtGbl_stParam.nTimeUnlockIJCD2"             parent="PlcVariableInt32"  />
	<bean id="timeUnlockIJCD3"             c:_0=".ExtGbl_stParam.nTimeUnlockIJCD3"             parent="PlcVariableInt32"  />
	
	<util:list id="plcSecureParameters">
		<ref bean="lSMIntervalTimeForEvidences" />
		<ref bean="activeIJC"                   />
		<ref bean="activeIJC2"                  />
		<ref bean="activeIJC3"                  />
		<ref bean="timeUnlockEC"                />
		<ref bean="timeUnlockIJC"               />
		<ref bean="timeUnlockIJCD2"             />
		<ref bean="timeUnlockIJCD3"             />
	</util:list>
	
	
	
	<util:map id="securePlcVarMap">
<!-- 	ExtGbl_stNtf.bSecureSwitchError	BOOL -->
<!-- 	ExtGbl_stNtf.nDoorEC	UDINT -->
<!-- 	ExtGbl_stNtf.bDoorECError	BOOL -->
<!-- 	ExtGbl_stNtf.nDoorIJC	UDINT -->
<!-- 	ExtGbl_stNtf.bDoorIJCError	BOOL -->
		<entry key="NTF_USER_ID_AUTHENTICATED"          value=".ExtGbl_stNtf.nUserIDAuthenticated"           />
		<entry key="NTF_USER_PROFILE_AUTHENTICATED"     value=".ExtGbl_stNtf.nUserProfileAuthenticated"      />
		<entry key="NTF_USER_PRINTER_ACCESS"     		value=".ExtGbl_stNtf.nPrinterAccessLevel"            />                                               
		<entry key="NTF_USER_JAVA_ACCESS"     			value=".ExtGbl_stNtf.nJAVAAccessLevel"               />
		<entry key="NTF_USER_AUTHENTICATION"  			value=".ExtGbl_stNtf.bUserAuthenticatedDone" 	/>	
		<entry key="NTF_USER_DATABASE_VERSION"  		value=".ExtGbl_stNtf.sDatabaseVersion" 	/>
<!-- 	ExtGbl_stNtf.bSecureUPSAlarm		BOOL -->
<!-- 	ExtGbl_stNtf.bSecureUPSBatteryMode	BOOL -->
<!-- 	ExtGbl_stNtf.bSecureUPSBatteryCharge	BOOL -->
<!-- 	ExtGbl_stNtf.nLSMStatus	UDINT -->
<!-- 	ExtGbl_stNtf.nLineStatus	UDINT -->
<!-- 	ExtGbl_stNtf.bLSMRadarDetectMove	BOOL -->
<!-- 	ExtGbl_stNtf.bServiceDoor		BOOL -->
<!-- 	ExtGbl_stNtf.bEmergencyUnlock		BOOL -->
<!-- 	ExtGbl_stNtf.bElectronicBreakerControl	BOOL -->
	
<!-- 	ExtGbl_stNtf.nDoorIJCD2	UDINT -->
<!-- 	ExtGbl_stNtf.bDoorIJCD2Error	BOOL -->
<!-- 	ExtGbl_stNtf.nDoorIJC3	UDINT -->
<!-- 	ExtGbl_stNtf.bDoorIJCD3Error	BOOL -->
<!-- 	ExtGbl_stNtf.bDeportedUPSAlarm	BOOL -->
<!-- 	ExtGbl_stNtf.bDeportedUPSBatteryMode	BOOL -->
<!-- 	ExtGbl_stNtf.bDeportedUPSBatteryCharge	BOOL -->
<!-- 	ExtGbl_stNtf.bDeportedEmergencyUnlock	BOOL -->
	
<!-- 	REQUESTS -->

<!-- 	ExtGbl_stReq.bOpenElectricalCabinet	BOOL -->
<!-- 	ExtGbl_stReq.bOpenPrinterCabinet	BOOL -->
<!-- 	ExtGbl_stReq.bOpenDeportedPrinterCabinet	BOOL -->
<!-- 	ExtGbl_stReq.bRebootSecureSystem	BOOL -->
<!-- 	ExtGbl_stReq.bLSMTakePicture	BOOL -->
<!-- 	ExtGbl_stReq.bSecurityAlarm	BOOL -->
<!-- 	ExtGbl_stReq.bReloadUserDataFile	BOOL -->
		
<!-- 	PARAMETERS -->

<!-- 	ExtGbl_stParam.nSecureDevicesStatusRefresh -->
<!-- 	ExtGbl_stParam.nIntervalLogGenerate -->
<!-- 	ExtGbl_stParam.nLSMIntervalTimeForEvidences -->
<!-- 	ExtGbl_stParam.bActiveIJC -->
<!-- 	ExtGbl_stParam bActiveIJC2 -->
<!-- 	ExtGbl_stParam bActiveIJC3 -->


	</util:map>

</beans>